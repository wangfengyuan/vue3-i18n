!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).Vue3I18n={},e.Vue)}(this,(function(e,n){"use strict";const t=Symbol("i18n"),o=(e,n,t)=>{const r=e[0];if(~r.indexOf("[")){const[l,s]=r.split("["),i=parseInt(s.replace("]",""));if(i>-1){if(!n[l]&&n[l].length>0&&n[l][i]&&""!==n[l][i])throw new Error("Not Found");return 1===e.length?"string"==typeof n[l][i]?n[l][i]:"":o(e.slice(1),n[l][i],t)}throw new Error(`Not Found: ${r}`)}if(n[e[0]]||""===n[e[0]]){if(1===e.length){let o="string"==typeof n[e[0]]?n[e[0]]:"";return t&&(o=((e,n)=>{const t=/{(\w*)}/g;let o,r=e;for(;null!==(o=t.exec(e));){if(console.log(o),!Object.prototype.hasOwnProperty.call(n,o[1]))throw new Error(`Not Found Params: ${o[1]}`);r=r.replace(o[0],n[o[1]])}return r})(o,t)),o}return o(e.slice(1),n[e[0]],t)}throw new Error("Not Found")};e.createI18n=e=>{const r=n.ref(e.locale||"en"),l=e.messages;return{messages:l,t:(e,n)=>{const t=l[r.value]||l.en;if("string"!=typeof e)return console.warn("Warn(i18n):","keypath must be a type of string"),"";try{return o(e.split("."),t,n)}catch(n){return console.log(n),console.warn(`Warn(i18n): the keypath '${e}' not found`),""}},setLocale:e=>{l[e]||console.warn(`Warn(i18n): the '${e}' language pack not found, fall back to English language pack`),r.value=e},getLocale:()=>r.value,install(e){const n=this;e.provide(t,n),e.config.globalProperties.$t=n.t,e.config.globalProperties.$i18n=n}}},e.i18nSymbol=t,e.useI18n=function(){return n.inject(t)},Object.defineProperty(e,"__esModule",{value:!0})}));
